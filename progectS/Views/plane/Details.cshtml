@model progectS.VModel.VMPlaneDetails

<input type ="button" onclick="load()" />
<div onload="load()">
    <h4 >@Model.Plane.Name</h4>
    <hr />
    <dl class="row">

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Plane.Date)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Plane.Date)
        </dd>
    </dl>
</div>
<div>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Plane.ID }) |
    @Html.ActionLink("הוסף ארוחה לתוכנית", "AddMeal", new { id = Model.Plane.ID }) |

    <a asp-action="ShowPlanes" asp-route-id="@Model.Plane.User.ID">Back to List</a>
</div>
<div class="aside" style=" width:100%;max-width:500px">
    <canvas id="myChart" style="width:100%;max-width:450px"></canvas>
</div>
@if (Model.Plane.Days.Count > 0)
{
    <h4>  פירוט שבועי </h4>
    <table class="table">
        <thead>
            <tr>
                <th>תאריך</th>
                <th>יום</th>
                <th></th>
            </tr>
        </thead>

        <tbody>

            @foreach (Day item in Model.Plane.Days)
            {

                <tr>
                    <td>@Html.DisplayFor(modelItem => item.Date)</td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DayName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Plane.Name)
                    </td>
                    <td>
                        @Html.ActionLink("הצג ארוחות", "DaylDetails", new { id = item.ID })
                    </td>

                </tr>
            }

        </tbody>
    </table>
}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>


<script>
    function load(id) {
    $.getJSON("/plane/Chart", { id= id },
        function (data) {
            data1 = data;
        }
        )
    
    var data1="";
    var xValues = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000];

    new Chart("myChart", {
        type: "line",
        data: data1,
        options: {
            legend: { display: false }
        }
    });
    };
</script>